<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Malla Interactiva Qu√≠mica y Farmacia</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <h1>Malla Interactiva Qu√≠mica y Farmacia</h1>
  </header>

  <main id="malla-container"></main>

  <footer>
    <p>Espero que te sirva, te amo &lt;3</p>
  </footer>

  <script>
    const malla = {
      "Primer semestre": [
        { nombre: "√Ålgebra I" },
        { nombre: "Fundamentos de Biolog√≠a y Gen√©tica Humana" },
        { nombre: "Introducci√≥n a la Qu√≠mica y Farmacia" },
        { nombre: "Qu√≠mica General y T√©cnicas de Laboratorio" },
        { nombre: "Ingl√©s I" },
        { nombre: "Habilidades Acad√©micas I" }
      ],
      "Segundo semestre": [
        { nombre: "C√°lculo I", prerequisitos: ["√Ålgebra I"] },
        { nombre: "F√≠sica General" },
        { nombre: "Fisiolog√≠a", prerequisitos: ["Fundamentos de Biolog√≠a y Gen√©tica Humana"] },
        { nombre: "Qu√≠mica Org√°nica" },
        { nombre: "Ingl√©s II", prerequisitos: ["Ingl√©s I"] },
        { nombre: "Habilidades Acad√©micas II", prerequisitos: ["Habilidades Acad√©micas I"] }
      ],
      "Tercer semestre": [
        { nombre: "C√°lculo II", prerequisitos: ["C√°lculo I"] },
        { nombre: "Qu√≠mica Anal√≠tica", prerequisitos: ["Qu√≠mica General y T√©cnicas de Laboratorio"] },
        { nombre: "Fisiopatolog√≠a", prerequisitos: ["Fisiolog√≠a"] },
        { nombre: "Bioqu√≠mica", prerequisitos: ["Fundamentos de Biolog√≠a y Gen√©tica Humana"] },
        { nombre: "Ingl√©s III", prerequisitos: ["Ingl√©s II"] },
        { nombre: "√âtica y Ciudadan√≠a" }
      ],
      "Cuarto semestre": [
        { nombre: "Fisicoqu√≠mica", prerequisitos: ["C√°lculo II"] },
        { nombre: "Microbiolog√≠a y Agentes Infecciosos", prerequisitos: ["Bioqu√≠mica"] },
        { nombre: "Farmacolog√≠a I", prerequisitos: ["Fisiopatolog√≠a"] },
        { nombre: "An√°lisis Instrumental", prerequisitos: ["Qu√≠mica Anal√≠tica"] },
        { nombre: "Ingl√©s IV", prerequisitos: ["Ingl√©s III"] },
        { nombre: "Responsabilidad Social Universitaria", prerequisitos: ["√âtica y Ciudadan√≠a"] }
      ],
      "Quinto semestre": [
        { nombre: "Bioestad√≠stica" },
        { nombre: "Bioqu√≠mica Cl√≠nica", prerequisitos: ["Bioqu√≠mica"] },
        { nombre: "Farmacolog√≠a II", prerequisitos: ["Farmacolog√≠a I"] },
        { nombre: "Farmacoqu√≠mica I", prerequisitos: ["Fisicoqu√≠mica"] },
        { nombre: "Econom√≠a" },
        { nombre: "Electivo de Formaci√≥n General I" },
        { nombre: "Pr√°ctica Integrada en Qu√≠mica y Farmacia", prerequisitos: ["Farmacolog√≠a I"] }
      ],
      "Sexto semestre": [
        { nombre: "Farmacolog√≠a Cl√≠nica y Polifarmacia", prerequisitos: ["Farmacolog√≠a II"] },
        { nombre: "Procesos Industriales", prerequisitos: ["Fisicoqu√≠mica"] },
        { nombre: "Gesti√≥n Farmac√©utica" },
        { nombre: "Bot√°nica y Farmacognosia", prerequisitos: ["An√°lisis Instrumental"] },
        { nombre: "Farmacoqu√≠mica II", prerequisitos: ["Farmacoqu√≠mica I"] },
        { nombre: "Contabilidad y Costos", prerequisitos: ["Econom√≠a"] },
        { nombre: "Electivo de Formaci√≥n General II" }
      ],
      "S√©ptimo semestre": [
        { nombre: "Sistemas de Gesti√≥n de Calidad Farmac√©utica", prerequisitos: ["Gesti√≥n Farmac√©utica"] },
        { nombre: "Tecnolog√≠a Farmac√©utica", prerequisitos: ["Procesos Industriales"] },
        { nombre: "Salud P√∫blica y Epidemiolog√≠a", prerequisitos: ["Bioestad√≠stica"] },
        { nombre: "Biofarmacia y Farmacocin√©tica", prerequisitos: ["Bioestad√≠stica"] },
        { nombre: "Toxicolog√≠a", prerequisitos: ["Farmacolog√≠a Cl√≠nica y Polifarmacia"] },
        { nombre: "Marketing Farmac√©utico", prerequisitos: ["Contabilidad y Costos"] }
      ],
      "Octavo semestre": [
        { nombre: "Tecnolog√≠a Cosm√©tica", prerequisitos: ["Tecnolog√≠a Farmac√©utica"] },
        { nombre: "Legislaci√≥n Farmac√©utica", prerequisitos: ["Sistemas de Gesti√≥n de Calidad Farmac√©utica"] },
        { nombre: "Preparaci√≥n y Evaluaci√≥n de Proyectos" },
        { nombre: "Atenci√≥n Farmac√©utica y Farmacia Asistencial", prerequisitos: ["Gesti√≥n Farmac√©utica"] },
        { nombre: "Administraci√≥n y Gesti√≥n del Talento Humano", prerequisitos: ["Marketing Farmac√©utico"] }
      ],
      "Noveno semestre": [
        { nombre: "Metodolog√≠a de la Investigaci√≥n", prerequisitos: ["Bioestad√≠stica"] },
        { nombre: "Famacovigilancia", prerequisitos: ["Salud P√∫blica y Epidemiolog√≠a"] },
        { nombre: "Farmacia Cl√≠nica", prerequisitos: ["Atenci√≥n Farmac√©utica y Farmacia Asistencial"] },
        { nombre: "Nutrici√≥n y Bromatolog√≠a" },
        { nombre: "Pr√°ctica Profesional", prerequisitos: ["Tecnolog√≠a Cosm√©tica", "Legislaci√≥n Farmac√©utica", "Preparaci√≥n y Evaluaci√≥n de Proyectos", "Atenci√≥n Farmac√©utica y Farmacia Asistencial", "Administraci√≥n y Gesti√≥n del Talento Humano"] }
      ],
      "D√©cimo semestre": [
        { nombre: "Actividad de Titulaci√≥n", prerequisitos: ["Metodolog√≠a de la Investigaci√≥n"] },
        { nombre: "Electivo de Profundizaci√≥n", prerequisitos: ["Farmacia Cl√≠nica"] }
      ]
    };

    const aprobados = new Set();

    function puedeDesbloquear(prerequisitos) {
      return (prerequisitos || []).every(req => aprobados.has(req));
    }

    function actualizarEstadoRamos() {
      document.querySelectorAll('.ramo').forEach(divRamo => {
        const nombre = divRamo.dataset.nombre;
        const prerequisitos = JSON.parse(divRamo.dataset.prerequisitos || '[]');
        if (aprobados.has(nombre)) {
          divRamo.classList.remove('bloqueado');
          divRamo.classList.add('aprobado');
        } else if (puedeDesbloquear(prerequisitos)) {
          divRamo.classList.remove('bloqueado');
          divRamo.classList.remove('aprobado');
        } else {
          divRamo.classList.add('bloqueado');
          divRamo.classList.remove('aprobado');
        }
      });
    }

    function crearMallaInteractiva() {
      const contenedor = document.getElementById("malla-container");
      for (const [semestre, ramos] of Object.entries(malla)) {
        const divSemestre = document.createElement("div");
        divSemestre.className = "semestre";
        divSemestre.innerHTML = `<h2>${semestre}</h2>`;

        ramos.forEach(ramo => {
          const divRamo = document.createElement("div");
          divRamo.className = "ramo bloqueado";
          divRamo.textContent = ramo.nombre;
          divRamo.dataset.nombre = ramo.nombre;
          divRamo.dataset.prerequisitos = JSON.stringify(ramo.prerequisitos || []);

          divRamo.addEventListener("click", () => {
            if (puedeDesbloquear(ramo.prerequisitos)) {
              if (aprobados.has(ramo.nombre)) {
                aprobados.delete(ramo.nombre);
              } else {
                aprobados.add(ramo.nombre);
              }
              actualizarEstadoRamos();
            } else {
              alert("A√∫n no cumples con los prerrequisitos para: " + ramo.nombre);
            }
          });

          divSemestre.appendChild(divRamo);
        });

        contenedor.appendChild(divSemestre);
      }
      actualizarEstadoRamos();
    }

    document.addEventListener("DOMContentLoaded", crearMallaInteractiva);
  </script>

  <!-- corazones flotantes -->
  <script>
    for (let i = 0; i < 20; i++) {
      const heart = document.createElement("div");
      heart.className = "heart";
      heart.textContent = "üíñ";
      heart.style.left = Math.random() * 100 + "vw";
      heart.style.animationDelay = Math.random() * 20 + "s";
      heart.style.fontSize = 30 + Math.random() * 50 + "px";
      document.body.appendChild(heart);
    }
  </script>
</body>
</html>

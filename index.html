<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Malla Interactiva Qu√≠mica y Farmacia</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <h1>Malla Interactiva Qu√≠mica y Farmacia</h1>
  </header>

  <main id="malla-container"></main>

  <footer>
    <p>espero que te sea √∫til amor, te amo demasiado &lt;3</p>
  </footer>

  <script>
    const malla = {
      "Primer semestre": [
        { nombre: "Introducci√≥n a la Qu√≠mica y Farmacia" },
        { nombre: "Qu√≠mica General I" },
        { nombre: "Biolog√≠a Celular" },
        { nombre: "Matem√°ticas I" },
        { nombre: "Comunicaci√≥n Oral y Escrita" },
        { nombre: "Introducci√≥n a la Vida Universitaria" }
      ],
      "Segundo semestre": [
        { nombre: "Qu√≠mica General II", prerequisitos: ["Qu√≠mica General I"] },
        { nombre: "Matem√°ticas II", prerequisitos: ["Matem√°ticas I"] },
        { nombre: "Qu√≠mica Org√°nica I", prerequisitos: ["Qu√≠mica General I"] },
        { nombre: "Biolog√≠a Molecular y Gen√©tica", prerequisitos: ["Biolog√≠a Celular"] },
        { nombre: "Ingl√©s I" },
        { nombre: "Salud P√∫blica" }
      ],
      "Tercer semestre": [
        { nombre: "Qu√≠mica Org√°nica II", prerequisitos: ["Qu√≠mica Org√°nica I"] },
        { nombre: "F√≠sica", prerequisitos: ["Matem√°ticas II"] },
        { nombre: "Bioqu√≠mica I", prerequisitos: ["Biolog√≠a Molecular y Gen√©tica", "Qu√≠mica Org√°nica I"] },
        { nombre: "Microbiolog√≠a", prerequisitos: ["Biolog√≠a Molecular y Gen√©tica"] },
        { nombre: "Ingl√©s II", prerequisitos: ["Ingl√©s I"] }
      ],
      "Cuarto semestre": [
        { nombre: "Bioqu√≠mica II", prerequisitos: ["Bioqu√≠mica I"] },
        { nombre: "Fisiolog√≠a", prerequisitos: ["Biolog√≠a Celular"] },
        { nombre: "Parasitolog√≠a", prerequisitos: ["Microbiolog√≠a"] },
        { nombre: "Qu√≠mica Anal√≠tica Cuantitativa", prerequisitos: ["Qu√≠mica General II"] },
        { nombre: "Farmacognosia I", prerequisitos: ["Qu√≠mica Org√°nica II"] },
        { nombre: "√âtica Profesional" }
      ],
      "Quinto semestre": [
        { nombre: "Farmacolog√≠a I", prerequisitos: ["Bioqu√≠mica II", "Fisiolog√≠a"] },
        { nombre: "Qu√≠mica Anal√≠tica Instrumental", prerequisitos: ["Qu√≠mica Anal√≠tica Cuantitativa"] },
        { nombre: "Farmacognosia II", prerequisitos: ["Farmacognosia I"] },
        { nombre: "Tecnolog√≠a Farmac√©utica I", prerequisitos: ["Qu√≠mica Org√°nica II"] },
        { nombre: "Immunolog√≠a", prerequisitos: ["Parasitolog√≠a"] }
      ],
      "Sexto semestre": [
        { nombre: "Farmacolog√≠a II", prerequisitos: ["Farmacolog√≠a I"] },
        { nombre: "Toxicolog√≠a", prerequisitos: ["Farmacolog√≠a I"] },
        { nombre: "Tecnolog√≠a Farmac√©utica II", prerequisitos: ["Tecnolog√≠a Farmac√©utica I"] },
        { nombre: "Control de Calidad F√≠sico-Qu√≠mico", prerequisitos: ["Qu√≠mica Anal√≠tica Instrumental"] },
        { nombre: "Biotecnolog√≠a Farmac√©utica", prerequisitos: ["Farmacognosia II"] }
      ],
      "S√©ptimo semestre": [
        { nombre: "Legislaci√≥n Farmac√©utica" },
        { nombre: "Biofarmacia y Farmacocin√©tica", prerequisitos: ["Farmacolog√≠a II"] },
        { nombre: "An√°lisis Microbiol√≥gico de Medicamentos", prerequisitos: ["Microbiolog√≠a"] },
        { nombre: "Farmacia Gal√©nica", prerequisitos: ["Tecnolog√≠a Farmac√©utica II"] },
        { nombre: "T√≥picos de Gesti√≥n en Salud" }
      ],
      "Octavo semestre": [
        { nombre: "Formulaci√≥n Magistral", prerequisitos: ["Farmacia Gal√©nica"] },
        { nombre: "Atenci√≥n Farmac√©utica y Farmacia Cl√≠nica I", prerequisitos: ["Farmacolog√≠a II"] },
        { nombre: "Pr√°ctica Profesional I", prerequisitos: ["S√©ptimo semestre"] },
        { nombre: "Taller de Investigaci√≥n" },
        { nombre: "Electivo Profesional I" }
      ],
      "Noveno semestre": [
        { nombre: "Atenci√≥n Farmac√©utica y Farmacia Cl√≠nica II", prerequisitos: ["Atenci√≥n Farmac√©utica y Farmacia Cl√≠nica I"] },
        { nombre: "Gesti√≥n y Administraci√≥n Farmac√©utica", prerequisitos: ["T√≥picos de Gesti√≥n en Salud"] },
        { nombre: "Electivo Profesional II" },
        { nombre: "Pr√°ctica Profesional II" }
      ],
      "D√©cimo semestre": [
        { nombre: "Internado Profesional" },
        { nombre: "Seminario de T√≠tulo" }
      ]
    };

    const aprobados = new Set();

    function puedeDesbloquear(prerequisitos) {
      return (prerequisitos || []).every(req => aprobados.has(req));
    }

    function actualizarEstadoRamos() {
      document.querySelectorAll('.ramo').forEach(divRamo => {
        const nombre = divRamo.dataset.nombre;
        const prerequisitos = JSON.parse(divRamo.dataset.prerequisitos || '[]');
        if (aprobados.has(nombre)) {
          divRamo.classList.remove('bloqueado');
          divRamo.classList.add('aprobado');
        } else if (puedeDesbloquear(prerequisitos)) {
          divRamo.classList.remove('bloqueado');
          divRamo.classList.remove('aprobado');
        } else {
          divRamo.classList.add('bloqueado');
          divRamo.classList.remove('aprobado');
        }
      });
    }

    function crearMallaInteractiva() {
      const contenedor = document.getElementById("malla-container");
      contenedor.innerHTML = "";

      for (const [semestre, ramos] of Object.entries(malla)) {
        const divSemestre = document.createElement("div");
        divSemestre.className = "semestre";
        divSemestre.innerHTML = `<h2>${semestre}</h2>`;

        ramos.forEach(ramo => {
          const divRamo = document.createElement("div");
          divRamo.className = "ramo bloqueado";
          divRamo.textContent = ramo.nombre;
          divRamo.dataset.nombre = ramo.nombre;
          divRamo.dataset.prerequisitos = JSON.stringify(ramo.prerequisitos || []);

          divRamo.addEventListener("click", () => {
            if (puedeDesbloquear(ramo.prerequisitos)) {
              if (aprobados.has(ramo.nombre)) {
                aprobados.delete(ramo.nombre);
              } else {
                aprobados.add(ramo.nombre);
              }
              actualizarEstadoRamos();
            } else {
              alert("A√∫n no cumples con los prerrequisitos para: " + ramo.nombre);
            }
          });

          divSemestre.appendChild(divRamo);
        });

        contenedor.appendChild(divSemestre);
      }
      actualizarEstadoRamos();
    }

    document.addEventListener("DOMContentLoaded", crearMallaInteractiva);
  </script>

  <!-- Corazones flotantes -->
  <script>
    for (let i = 0; i < 25; i++) {
      const heart = document.createElement("div");
      heart.className = "heart";
      heart.textContent = "üíñ";
      heart.style.left = Math.random() * 100 + "vw";
      heart.style.animationDelay = Math.random() * 20 + "s";
      heart.style.fontSize = 20 + Math.random() * 40 + "px";
      document.body.appendChild(heart);
    }
  </script>
</body>
</html>
